<mvc:View controllerName="com.exyte.gmui.controller.Initiation"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:cust="com.exyte.gmui.controls">
    <Page showHeader="false">
        <content>
            <VBox class="sapUiSmallMargin" width="98.7%">

                <!-- Main Card -->
                <VBox class="sapUiSmallMarginTop initiateMainCard">
                    <!-- Emloyee Section -->
                    <f:Card class="sapUiSmallMargin" height="25rem" width="97.7%">
                        <f:content>
                            <VBox width="100%">
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <Title text="Employee Selection" class="inititaionFormTitle"/>
                                    <ToolbarSpacer class="customTollbarSpacer" width="112rem"/>
                                </HBox>
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33%">
                                        <Label text="Employee Name" required="true" class="initiationFormLabel"/>
                                        <cust:extComboBox showSecondaryValues="true" width="95%" items="{UIModel>/User}" selectionChange="onSelectEmployee" class="exyteInput" searchBackend="onSearchEmpCombobox" selectedKey="{FormData>/cust_HomeUserId}">
                                        <core:ListItem key="{UIModel>userId}" text="{UIModel>displayName}" additionalText="{UIModel>title}"/>
                                        </cust:extComboBox>
                                    </VBox>

                                </HBox>
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Person ID" class="initiationFormLabel"/>
                                        <Input value="{FormData>/cust_EmpId}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Job Title" class="initiationFormLabel"/>
                                        <Input value="{FormData>/cust_Title}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Department" class="initiationFormLabel"/>
                                        <Input value="{FormData>/cust_Department}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                </HBox>
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Legal Entity" class="initiationFormLabel"/>
                                        <Input value="{FormData>/cust_LegalEntity}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Country" class="initiationFormLabel"/>
                                        <Input value="{FormData>/cust_HomeCountry}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Hire Date" class="initiationFormLabel"/>
                                        <Input value="{path: 'FormData>/cust_HireDate','type':'sap.ui.model.type.Date','formatOptions': {'pattern': 'yyyy-MM-dd',UTC:true}}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                </HBox>
                            </VBox>

                        </f:content>
                    </f:Card>
                    <!-- Process Selection Section -->
                    <f:Card class="sapUiSmallMargin" height="11rem" width="97.7%">
                        <f:content>
                            <VBox width="100%">
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <Title text="Process Selection" class="inititaionFormTitle"/>
                                    <ToolbarSpacer class="customTollbarSpacer" width="112rem"/>
                                </HBox>

                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Process Type" required="true" class="initiationFormLabel"/>
                                        <ComboBox showSecondaryValues="true" width="95%" class="exyteInput" items="{path: '/PickListValueV2', filters: [{ path: 'PickListV2_id', operator: 'EQ',  value1: 'GA_Type'},{ path: 'status', operator: 'EQ', value1: 'A' }],
                                        parameters: {select:'externalCode,label_en_US'}}" selectedKey="{FormData>/cust_ProcessType}">
                                            <core:ListItem key="{externalCode}" text="{path:'label_en_US'}" additionalText="{externalCode}"/>
                                        </ComboBox>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Host Manager" class="initiationFormLabel"/>
                                        <Input value="{FormData>/cust_EmpId}" width="95%" class="exyteInput" editable="true"></Input>
                                    </VBox>

                                </HBox>

                            </VBox>

                        </f:content>
                    </f:Card>
                    <!-- Assignment Initiation Section -->
                    <f:Card class="sapUiSmallMargin" height="{= ${FormData>/cust_ProcessType} === 'P' ? '18rem' : '11rem'}" width="97.7%">
                        <f:content>
                            <VBox width="100%">
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <Title text="Assignment Initiation" class="inititaionFormTitle"/>
                                    <ToolbarSpacer class="customTollbarSpacer" width="112%"/>
                                </HBox>

                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Start Date" required="true" class="initiationFormLabel"/>
                                        <DatePicker value="{path:'FormData>/cust_StartDate','type':'sap.ui.model.type.Date','formatOptions': {'pattern': 'yyyy-MM-dd',UTC:true}}" width="95%" class="exyteInput" minDate="{FormData>/cust_StartMinDate}" change="onChangeStartDate"></DatePicker>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="End Date" required="true" class="initiationFormLabel"/>
                                        <DatePicker value="{path:'FormData>/cust_EndDate','type':'sap.ui.model.type.Date','formatOptions': {'pattern': 'yyyy-MM-dd',UTC:true}}" width="95%" class="exyteInput" minDate="{FormData>/cust_EndMindate}"></DatePicker>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Host Position" required="true" class="initiationFormLabel"/>
                                        <ComboBox width="95%" class="exyteInput" items="{UIModel>/Positions}" selectedKey="{FormData>/cust_HostPosition}">
                                         <core:Item key="{UIModel>code}" text="{UIModel>externalName_en_US}"/>
                                        </ComboBox>
                                    </VBox>
                                </HBox>
                                <HBox class="sapUiSmallMargin" width="96%" visible="{= ${FormData>/cust_ProcessType} === 'P'}">
                                    <VBox width="33.3%">
                                        <Label text="Project ID" required="true" class="initiationFormLabel"/>
                                         <ComboBox showSecondaryValues="true" width="95%" class="exyteInput" items="{path: '/PickListValueV2', filters: [{ path: 'PickListV2_id', operator: 'EQ',  value1: 'GA_Projects'},{ path: 'status', operator: 'EQ', value1: 'A' }],
                                        parameters: {select:'externalCode,label_en_US'}}" selectedKey="{FormData>/cust_Project}">
                                            <core:ListItem key="{externalCode}" text="{path:'label_en_US'}" additionalText="{externalCode}"/>
                                        </ComboBox>                                       
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Project Name" class="initiationFormLabel"/>
                                        <Input value="{FormData>/cust_EmpId}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>

                                </HBox>
                            </VBox>

                        </f:content>
                    </f:Card>
                </VBox>
            </VBox>
        </content>
        <!-- <footer>
            <OverflowToolbar height="4rem">
                <ToolbarSpacer />
                <Button text="Cancel Initiation" icon="sap-icon://decline" class="exyteCustomButton cancelInitiationBtn"></Button>
                <Button text="Save as Draft" icon="sap-icon://save" class="exyteCustomButton saveDraftBtn"></Button>
                <Button text="Submit" icon="sap-icon://accept" class="exyteCustomButton submitBtn"></Button>
            </OverflowToolbar>
        </footer> -->
    </Page>
</mvc:View>