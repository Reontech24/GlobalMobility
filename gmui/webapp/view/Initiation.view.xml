<mvc:View controllerName="com.exyte.gmui.controller.Initiation"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:cust="com.exyte.gmui.controls">
    <Page showHeader="false">
        <content>
            <VBox class="sapUiSmallMargin" width="98.7%">

                <!-- Main Card -->
                <VBox class="sapUiSmallMarginTop initiateMainCard">
                    <!-- Emloyee Section -->
                    <f:Card class="sapUiSmallMargin" height="25rem" width="97.7%">
                        <f:content>
                            <VBox width="100%">
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <Title text="Employee Selection" class="inititaionFormTitle"/>
                                    <ToolbarSpacer class="customTollbarSpacer" width="112rem"/>
                                </HBox>
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33%">
                                        <Label text="Employee Name" required="true" class="initiationFormLabel"/>
                                        <cust:extComboBox showSecondaryValues="true" width="95%" items="{UIModel>/user}" selectionChange="onSelectEmployee" class="exyteInput" searchBackend="onSearchEmpCombobox" selectedKey="{UIModel>/initiateForm/cust_HomeUserId}">
                                            <core:ListItem key="{UIModel>userId}" text="{UIModel>userNav/displayName}" additionalText="{UIModel>jobTitle}"/>
                                        </cust:extComboBox>
                                    </VBox>

                                </HBox>
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Person ID" class="initiationFormLabel"/>
                                        <Input value="{UIModel>/initiateForm/cust_EmpId}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Job Title" class="initiationFormLabel"/>
                                        <Input value="{UIModel>/initiateForm/cust_Title}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Department" class="initiationFormLabel"/>
                                        <Input value="{UIModel>/initiateForm/cust_Department}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                </HBox>
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Legal Entity" class="initiationFormLabel"/>
                                        <Input value="{UIModel>/initiateForm/cust_LegalEntity}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Country" class="initiationFormLabel"/>
                                        <Input value="{UIModel>/initiateForm/cust_HomeCountry}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Hire Date" class="initiationFormLabel"/>
                                        <Input value="{path: 'UIModel>/initiateForm/cust_HireDate',formatter:'.formatter.formatDate'}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>
                                </HBox>
                            </VBox>

                        </f:content>
                    </f:Card>
                    <!-- Process Selection Section -->
                    <f:Card class="sapUiSmallMargin" height="11rem" width="97.7%">
                        <f:content>
                            <VBox width="100%">
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <Title text="Process Selection" class="inititaionFormTitle"/>
                                    <ToolbarSpacer class="customTollbarSpacer" width="112rem"/>
                                </HBox>

                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Process Type" required="true" class="initiationFormLabel"/>
                                        <ComboBox showSecondaryValues="true" width="95%" class="exyteInput" items="{path: 'processType>/'}" selectedKey="{UIModel>/initiateForm/cust_ProcessType}">
                                            <core:Item key="{processType>externalCode}" text="{processType>label_en_US}" />
                                        </ComboBox>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Host Manager" class="initiationFormLabel"/>
                                       <cust:extComboBox showSecondaryValues="true" width="95%" items="{UIModel>/hostManager}"  class="exyteInput" selectionChange="onSelectHostManager" searchBackend="onSearchHostManagerCombobox" selectedKey="{UIModel>/initiateForm/cust_HostManager}" enabled="{UIModel>/onBehalf}">
                                            <core:Item key="{UIModel>userId}" text="{UIModel>userNav/displayName}"/>
                                        </cust:extComboBox>
                                    </VBox>

                                </HBox>

                            </VBox>

                        </f:content>
                    </f:Card>
                    <!-- Assignment Initiation Section -->
                    <f:Card class="sapUiSmallMargin" height="{= ${UIModel>/initiateForm/cust_ProcessType} === 'P' ? '18rem' : '11rem'}" width="97.7%">
                        <f:content>
                            <VBox width="100%">
                                <HBox class="sapUiSmallMargin" width="100%">
                                    <Title text="Assignment Initiation" class="inititaionFormTitle"/>
                                    <ToolbarSpacer class="customTollbarSpacer" width="112%"/>
                                </HBox>

                                <HBox class="sapUiSmallMargin" width="100%">
                                    <VBox width="33.3%">
                                        <Label text="Start Date" required="true" class="initiationFormLabel"/>
                                        <DatePicker value="{path:'UIModel>/initiateForm/cust_StartDate','type':'sap.ui.model.type.Date','formatOptions': {'pattern': 'yyyy-MM-dd',UTC:true}}" width="95%" class="exyteInput" minDate="{UIModel>/initiateForm/cust_StartMinDate}" change="onChangeStartDate"></DatePicker>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="End Date" required="true" class="initiationFormLabel"/>
                                        <DatePicker value="{path:'UIModel>/initiateForm/cust_EndDate','type':'sap.ui.model.type.Date','formatOptions': {'pattern': 'yyyy-MM-dd',UTC:true}}" width="95%" class="exyteInput" minDate="{UIModel>/initiateForm/cust_EndMindate}"></DatePicker>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Host Position" required="true" class="initiationFormLabel"/>
                                        <ComboBox width="95%" class="exyteInput" items="{Position>/}" selectedKey="{UIModel>/initiateForm/cust_HostPosition}" selectionChange="onSelectPosition">
                                            <core:Item key="{Position>code}" text="{Position>externalName_en_US}"/>
                                        </ComboBox>
                                    </VBox>
                                </HBox>
                                <HBox class="sapUiSmallMargin" width="96%" visible="{= ${UIModel>/initiateForm/cust_ProcessType} === 'P'}">
                                    <VBox width="33.3%">
                                        <Label text="Project Name" required="true" class="initiationFormLabel"/>
                                        <ComboBox width="95%" class="exyteInput" items="{ProjectData>/}" selectedKey="{UIModel>/initiateForm/cust_Project}">
                                            <core:Item key="{ProjectData>externalCode}" text="{ProjectData>externalName}"/>
                                        </ComboBox>
                                    </VBox>
                                    <VBox width="33.3%">
                                        <Label text="Project ID" class="initiationFormLabel"/>
                                        <Input value="{UIModel>/initiateForm/cust_Project}" width="95%" class="exyteInput" editable="false"></Input>
                                    </VBox>

                                </HBox>
                            </VBox>

                        </f:content>
                    </f:Card>
                </VBox>
            </VBox>
        </content>
        <!-- <footer>
            <OverflowToolbar height="4rem">
                <ToolbarSpacer />
                <Button text="Cancel Initiation" icon="sap-icon://decline" class="exyteCustomButton cancelInitiationBtn"></Button>
                <Button text="Save as Draft" icon="sap-icon://save" class="exyteCustomButton saveDraftBtn"></Button>
                <Button text="Submit" icon="sap-icon://accept" class="exyteCustomButton submitBtn"></Button>
            </OverflowToolbar>
        </footer> -->
    </Page>
</mvc:View>